<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <title>Casa de Avivamiento y Reino Cerete</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <!-- Facebook SDK -->
    <meta property="og:url" content="https://www.facebook.com/casadeavivamientoyreinocerete">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Casa de Avivamiento y Reino Cerete">
    <meta property="og:description" content="Un lugar donde experimentar√°s el amor de Dios y encontrar√°s tu prop√≥sito en Cristo">
    <meta property="og:image" content="https://scontent.fclo9-1.fna.fbcdn.net/v/t39.30808-1/308508679_403324795297459_2966777305134579591_n.jpg">
    <meta property="fb:app_id" content="">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <img src="img/logo/logo.PNG" alt="Casa de Avivamiento y Reino" class="logo-img">
                <span>Casa de Avivamiento y Reino</span>
            </div>
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="#inicio" class="nav-link">Inicio</a>
                </li>
                <li class="nav-item">
                    <a href="#nosotros" class="nav-link">Nosotros</a>
                </li>
                <li class="nav-item">
                    <a href="#servicios" class="nav-link">Servicios</a>
                </li>
                <li class="nav-item">
                    <a href="#eventos" class="nav-link">Eventos</a>
                </li>
                <li class="nav-item">
                    <a href="#facebook" class="nav-link">Facebook</a>
                </li>

                <li class="nav-item">
                    <a href="#contacto" class="nav-link">Contacto</a>
                </li>
            </ul>
            <div class="hamburger">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="inicio" class="hero">
        <div class="hero-content">
            <h1 class="hero-title">Bienvenidos a Casa de Avivamiento y Reino</h1>
            <p class="hero-subtitle">Un lugar donde experimentar√°s el amor de Dios y encontrar√°s tu prop√≥sito en Cristo</p>
            <div class="hero-buttons">
                <a href="#servicios" class="btn btn-primary">√önete a Nosotros</a>
                <a href="https://www.facebook.com/casadeavivamientoyreinocerete" target="_blank" class="btn btn-secondary">
                    <i class="fab fa-facebook-f"></i> S√≠guenos en Facebook
                </a>
                <a href="#contacto" class="btn btn-secondary">Cont√°ctanos</a>
            </div>
        </div>
        <div class="hero-image">
            <div class="hero-placeholder">
                <img src="img/logo/logo.PNG" alt="Casa de Avivamiento y Reino" class="hero-logo">
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section id="nosotros" class="about">
        <div class="container">
            <div class="section-header">
                <h2>Nuestra Misi√≥n</h2>
                <p>Transformando vidas a trav√©s del poder del Evangelio</p>
            </div>
            <div class="about-grid">
                <div class="about-card">
                    <div class="card-icon">
                        <i class="fas fa-heart"></i>
                    </div>
                    <h3>Amor</h3>
                    <p>Compartimos el amor incondicional de Cristo con nuestra comunidad</p>
                </div>
                <div class="about-card">
                    <div class="card-icon">
                        <i class="fas fa-pray"></i>
                    </div>
                    <h3>Oraci√≥n</h3>
                    <p>Creemos en el poder transformador de la oraci√≥n y la adoraci√≥n</p>
                </div>
                <div class="about-card">
                    <div class="card-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <h3>Comunidad</h3>
                    <p>Construimos una familia espiritual unida en fe y prop√≥sito</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Services Section -->
    <section id="servicios" class="services">
        <div class="container">
            <div class="section-header">
                <h2>Nuestros Servicios</h2>
                <p>Espacios para crecer en fe y comunidad</p>
            </div>
            <div class="services-grid">
                <div class="service-card">
                    <div class="service-image">
                        <i class="fas fa-child"></i>
                    </div>
                    <div class="service-content">
                        <h3>Discipulado del Reino</h3>
                        <p>Formaci√≥n espiritual profunda para el crecimiento en la fe</p>
                        <div class="service-time">
                            <i class="fas fa-clock"></i>
                            <span>Martes 7:00 PM</span>
                        </div>
                    </div>
                </div>
                <div class="service-card">
                    <div class="service-image">
                        <i class="fas fa-hands-praying"></i>
                    </div>
                    <div class="service-content">
                        <h3>Servicio General</h3>
                        <p>Tiempo de adoraci√≥n, ense√±anza y comuni√≥n fraternal</p>
                        <div class="service-time">
                            <i class="fas fa-clock"></i>
                            <span>Jueves 7:00 PM</span>
                        </div>
                    </div>
                </div>
                <div class="service-card">
                    <div class="service-image">
                        <i class="fas fa-users"></i>
                    </div>
                    <div class="service-content">
                        <h3>Reuni√≥n de J√≥venes</h3>
                        <p>Espacio especial para la juventud con adoraci√≥n y ense√±anza</p>
                        <div class="service-time">
                            <i class="fas fa-clock"></i>
                            <span>S√°bado 7:00 PM</span>
                        </div>
                    </div>
                </div>
                <div class="service-card">
                    <div class="service-image">
                        <i class="fas fa-bible"></i>
                    </div>
                    <div class="service-content">
                        <h3>Culto Dominical</h3>
                        <p>√önete a nosotros cada domingo para adoraci√≥n, predicaci√≥n y comuni√≥n</p>
                        <div class="service-time">
                            <i class="fas fa-clock"></i>
                            <span>Domingo 8:00 AM</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Events Section -->
    <section id="eventos" class="events">
        <div class="container">
            <div class="section-header">
                <h2>Pr√≥ximos Eventos</h2>
                <p>No te pierdas nuestras actividades especiales</p>
            </div>
            <div id="events-grid" class="events-grid">
                <!-- Events will be dynamically generated here -->
                <div class="loading-events">
                    <i class="fas fa-spinner fa-spin"></i>
                    <p>Cargando pr√≥ximos servicios...</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Facebook Section -->
    <section id="facebook" class="facebook-section">
        <div class="container">
            <div class="section-header">
                <h2>S√≠guenos en Facebook</h2>
                <p>Mantente conectado con nuestra comunidad - Todo el contenido aqu√≠ mismo</p>
            </div>
            
            <div class="facebook-grid">
                <!-- Facebook Page Plugin with Timeline -->
                <div class="facebook-widget">
                    <h3>Nuestra P√°gina y Publicaciones Recientes</h3>
                    <div class="fb-page" 
                         data-href="https://www.facebook.com/casadeavivamientoyreinocerete" 
                         data-tabs="timeline,events,messages" 
                         data-width="500" 
                         data-height="600" 
                         data-small-header="false" 
                         data-adapt-container-width="true" 
                         data-hide-cover="false" 
                         data-show-facepile="true">
                        <blockquote cite="https://www.facebook.com/casadeavivamientoyreinocerete" class="fb-xfbml-parse-ignore">
                            <a href="https://www.facebook.com/casadeavivamientoyreinocerete">Casa de Avivamiento y Reino cerete</a>
                        </blockquote>
                    </div>
                </div>
                
                <!-- Embedded Facebook Posts -->
                <div class="facebook-posts">
                    <h3>√öltimas Publicaciones</h3>
                    <div class="posts-container">
                        <!-- Facebook embedded post plugin will show recent posts -->
                        <div class="fb-social-plugin" 
                             data-href="https://www.facebook.com/casadeavivamientoyreinocerete" 
                             data-width="500">
                        </div>
                        
                        <!-- Alternative: Show recent posts via page plugin -->
                        <div class="recent-posts-info">
                            <div class="post-placeholder">
                                <i class="fab fa-facebook-f"></i>
                                <p>Las publicaciones m√°s recientes de nuestra p√°gina aparecer√°n aqu√≠ autom√°ticamente</p>
                                <small>Incluyendo fotos, videos, eventos y transmisiones en vivo</small>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Facebook Live Videos -->
                <div class="facebook-live">
                    <h3>Videos y Transmisiones</h3>
                    <div class="fb-video" 
                         data-href="https://www.facebook.com/casadeavivamientoyreinocerete/videos" 
                         data-width="500" 
                         data-show-text="true">
                    </div>
                    <div class="live-info">
                        <div class="live-placeholder">
                            <i class="fas fa-video"></i>
                            <p>Videos recientes y transmisiones en vivo</p>
                            <small>Servicios, testimonios y eventos especiales</small>
                        </div>
                    </div>
                </div>
                
                <!-- Facebook Events -->
                <div class="facebook-events">
                    <h3>Pr√≥ximos Eventos</h3>
                    <div class="events-container">
                        <div class="event-placeholder">
                            <i class="fas fa-calendar-alt"></i>
                            <p>Eventos pr√≥ximos de nuestra comunidad</p>
                            <div class="service-schedule">
                                <h4>Horarios de Servicios:</h4>
                                <ul>
                                    <li><strong>Martes 7:00 PM</strong> - Discipulado del Reino</li>
                                    <li><strong>Jueves 7:00 PM</strong> - Servicio</li>
                                    <li><strong>S√°bado 7:00 PM</strong> - Reuni√≥n de J√≥venes</li>
                                    <li><strong>Domingo 8:00 AM</strong> - Servicio</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Custom Comments System -->
                <div class="custom-comments">
                    <h3>Comentarios de la Comunidad</h3>
                    
                    <!-- Admin Login Section -->
                    <div id="admin-section" class="admin-section">
                        <button id="admin-toggle" class="admin-toggle">üîê Acceso Administrador</button>
                        <div id="admin-login" class="admin-login hidden">
                            <input type="password" id="admin-password" placeholder="Contrase√±a de administrador" class="admin-input">
                            <button id="admin-login-btn" class="admin-btn">Entrar</button>
                            <button id="admin-logout-btn" class="admin-btn hidden">Cerrar Sesi√≥n</button>
                        </div>
                    </div>
                    
                    <!-- Comment Form -->
                    <div class="comment-form">
                        <h4>Deja tu comentario</h4>
                        <form id="comment-form">
                            <div class="form-group">
                                <input type="text" id="comment-name" placeholder="¬øC√≥mo te llamas? Escribe tu nombre aqu√≠" required class="form-input">
                            </div>
                            <div class="form-group">
                                <input type="email" id="comment-email" placeholder="Tu email (opcional) - Solo si quieres que te contactemos" class="form-input">
                            </div>
                            <div class="form-group">
                                <textarea id="comment-text" placeholder="Comparte tu testimonio, oraci√≥n o mensaje con nuestra comunidad..." required class="form-textarea"></textarea>
                            </div>
                            <button type="submit" class="comment-submit-btn">
                                <i class="fas fa-paper-plane"></i> Publicar Comentario
                            </button>
                        </form>
                    </div>
                    
                    <!-- Comments Display -->
                    <div class="comments-display">
                        <h4 id="comments-count">Comentarios (0)</h4>
                        <div id="comments-list" class="comments-list">
                            <!-- Comments will be dynamically added here -->
                        </div>
                        <div id="no-comments" class="no-comments">
                            <i class="fas fa-comments"></i>
                            <p>¬°S√© el primero en comentar!</p>
                        </div>
                    </div>
                </div>
                
                <!-- Facebook Like Button -->
                <div class="facebook-interactions">
                    <h3>Interact√∫a con Nosotros</h3>
                    <div class="interaction-buttons">
                        <div class="fb-like" 
                             data-href="https://www.facebook.com/casadeavivamientoyreinocerete" 
                             data-width="300" 
                             data-layout="standard" 
                             data-action="like" 
                             data-size="large" 
                             data-share="true">
                        </div>
                        
                        <div class="fb-follow" 
                             data-href="https://www.facebook.com/casadeavivamientoyreinocerete" 
                             data-width="300" 
                             data-layout="standard" 
                             data-size="large">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contacto" class="contact">
        <div class="container">
            <div class="section-header">
                <h2>Cont√°ctanos</h2>
                <p>Estamos aqu√≠ para servirte y acompa√±arte</p>
            </div>
            <div class="contact-grid">
                <div class="contact-info">
                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fas fa-map-marker-alt"></i>
                        </div>
                        <div class="contact-details">
                            <h3>Direcci√≥n</h3>
                            <p>Cerete, C√≥rdoba, Colombia</p>
                            <a href="https://maps.app.goo.gl/Sqohyuc9YkAKCstG6" target="_blank" class="map-link">
                                <i class="fas fa-external-link-alt"></i> Ver en Google Maps
                            </a>
                        </div>
                    </div>
                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fas fa-phone"></i>
                        </div>
                        <div class="contact-details">
                            <h3>Tel√©fono</h3>
                            <p>+57 123 456 7890</p>
                        </div>
                    </div>
                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fas fa-envelope"></i>
                        </div>
                        <div class="contact-details">
                            <h3>Email</h3>
                            <p><a href="mailto:luismarkministerio@gmail.com">luismarkministerio@gmail.com</a></p>
                        </div>
                    </div>
                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="contact-details">
                            <h3>Horarios de Servicio</h3>
                            <div class="schedule-simple">
                                <div class="schedule-row">
                                    <span class="day">Martes</span>
                                    <span class="time">7:00 PM</span>
                                </div>
                                <div class="schedule-row">
                                    <span class="day">Jueves</span>
                                    <span class="time">7:00 PM</span>
                                </div>
                                <div class="schedule-row">
                                    <span class="day">S√°bado</span>
                                    <span class="time">7:00 PM</span>
                                </div>
                                <div class="schedule-row">
                                    <span class="day">Domingo</span>
                                    <span class="time">8:00 AM</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="contact-form">
                    <form id="contact-form">
                        <div class="form-group">
                            <input type="text" name="from_name" placeholder="Tu nombre" required>
                        </div>
                        <div class="form-group">
                            <input type="email" name="from_email" placeholder="Tu email" required>
                        </div>
                        <div class="form-group">
                            <input type="tel" name="phone" placeholder="Tu tel√©fono">
                        </div>
                        <div class="form-group">
                            <textarea name="message" placeholder="Tu mensaje" rows="5" required></textarea>
                        </div>
                        <button type="submit" class="btn btn-primary" id="submit-btn">
                            <i class="fas fa-paper-plane"></i> Enviar Mensaje
                        </button>
                    </form>
                    
                    <!-- Success/Error Messages -->
                    <div id="form-status" class="form-status" style="display: none;">
                        <div id="success-message" class="success-message" style="display: none;">
                            <i class="fas fa-check-circle"></i>
                            <h4>¬°Mensaje enviado exitosamente!</h4>
                            <p>Gracias por contactarnos. Te responderemos pronto.</p>
                        </div>
                        <div id="error-message" class="error-message" style="display: none;">
                            <i class="fas fa-exclamation-triangle"></i>
                            <h4>Error al enviar el mensaje</h4>
                            <p>Por favor, intenta nuevamente o cont√°ctanos directamente.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">
                    <i class="fas fa-church"></i>
                    <span>Casa de Avivamiento y Reino</span>
                </div>
                <div class="footer-social">
                    <a href="#" class="social-link"><i class="fab fa-facebook"></i></a>
                    <a href="#" class="social-link"><i class="fab fa-instagram"></i></a>
                    <a href="#" class="social-link"><i class="fab fa-youtube"></i></a>
                    <a href="#" class="social-link"><i class="fab fa-whatsapp"></i></a>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Casa de Avivamiento y Reino Cerete. Todos los derechos reservados.</p>
            </div>
        </div>
    </footer>

    <script src="script.js"></script>
    
    <!-- EmailJS -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
    
    <!-- Facebook SDK -->
    <div id="fb-root"></div>
    <script async defer crossorigin="anonymous" src="https://connect.facebook.net/es_LA/sdk.js#xfbml=1&version=v18.0"></script>
    
    <script>
        // Facebook SDK initialization
        window.fbAsyncInit = function() {
            FB.init({
                appId: '', // Add your Facebook App ID here
                cookie: true,
                xfbml: true,
                version: 'v18.0'
            });
            
            FB.AppEvents.logPageView();
        };
        
        // Facebook share function
        function shareOnFacebook(url, title) {
            FB.ui({
                method: 'share',
                href: url || window.location.href,
                quote: title || 'Casa de Avivamiento y Reino Cerete - Un lugar donde experimentar√°s el amor de Dios'
            }, function(response){});
        }
        
        // Contact Form Handler with Mailto Fallback
        (function() {
            const contactForm = document.getElementById('contact-form');
            const submitBtn = document.getElementById('submit-btn');
            const formStatus = document.getElementById('form-status');
            const successMessage = document.getElementById('success-message');
            const errorMessage = document.getElementById('error-message');
            
            if (contactForm) {
                contactForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    
                    // Get form data
                    const formData = new FormData(contactForm);
                    const name = formData.get('from_name');
                    const email = formData.get('from_email');
                    const phone = formData.get('phone') || 'No proporcionado';
                    const message = formData.get('message');
                    
                    // Create email content
                    const subject = encodeURIComponent('Nuevo mensaje de contacto - Casa de Avivamiento');
                    const body = encodeURIComponent(
                        `Nombre: ${name}\n` +
                        `Email: ${email}\n` +
                        `Tel√©fono: ${phone}\n\n` +
                        `Mensaje:\n${message}\n\n` +
                        `---\n` +
                        `Este mensaje fue enviado desde el formulario de contacto de Casa de Avivamiento y Reino Cerete.`
                    );
                    
                    // Create mailto link
                    const mailtoLink = `mailto:studiootaku6@gmail.com?subject=${subject}&body=${body}`;
                    
                    // Show loading state briefly
                    submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Abriendo email...';
                    submitBtn.disabled = true;
                    
                    // Open email client
                    setTimeout(function() {
                        window.location.href = mailtoLink;
                        
                        // Show success message
                        showSuccessMessage();
                        contactForm.reset();
                        
                        // Reset button
                        submitBtn.innerHTML = '<i class="fas fa-paper-plane"></i> Enviar Mensaje';
                        submitBtn.disabled = false;
                    }, 1000);
                });
            }
            
            function showSuccessMessage() {
                formStatus.style.display = 'block';
                successMessage.style.display = 'block';
                errorMessage.style.display = 'none';
                
                // Update success message for mailto
                successMessage.innerHTML = `
                    <i class="fas fa-envelope-open"></i>
                    <h4>¬°Email preparado!</h4>
                    <p>Se ha abierto tu cliente de email con el mensaje listo para enviar a studiootaku6@gmail.com</p>
                `;
                
                // Hide after 8 seconds
                setTimeout(function() {
                    formStatus.style.display = 'none';
                }, 8000);
            }
        })();

        // Custom Comments System
        (function() {
            // Admin password (change this to your desired password)
            const ADMIN_PASSWORD = 'admin2025';
            let isAdminLoggedIn = false;
            let comments = [];
            
            // Global storage configuration (JSONBin.io)
            const JSONBIN_API_KEY = '$2a$10$8yF5Xv7qK9rL3mN2pQ6sO.wE4tY8uI0oP3aS7dF9gH2jK5lM6nB8c';
            const JSONBIN_BIN_ID = '676e8f2bad19ca34f8c8f123';
            const JSONBIN_BASE_URL = 'https://api.jsonbin.io/v3';

            // DOM Elements
            const adminToggle = document.getElementById('admin-toggle');
            const adminLogin = document.getElementById('admin-login');
            const adminPasswordInput = document.getElementById('admin-password');
            const adminLoginBtn = document.getElementById('admin-login-btn');
            const adminLogoutBtn = document.getElementById('admin-logout-btn');
            const adminSection = document.getElementById('admin-section');
            const commentForm = document.getElementById('comment-form');
            const commentsList = document.getElementById('comments-list');
            const commentsCount = document.getElementById('comments-count');
            const noComments = document.getElementById('no-comments');

            // Initialize
            init();

            function init() {
                setupEventListeners();
                loadCommentsFromServer();
                
                // Auto-refresh comments every 30 seconds
                setInterval(loadCommentsFromServer, 30000);
            }

            // Load comments from global storage
            async function loadCommentsFromServer() {
                try {
                    const response = await fetch(`${JSONBIN_BASE_URL}/b/${JSONBIN_BIN_ID}/latest`, {
                        method: 'GET',
                        headers: {
                            'X-Master-Key': JSONBIN_API_KEY
                        }
                    });

                    if (response.ok) {
                        const data = await response.json();
                        comments = data.record || [];
                    } else {
                        // If bin doesn't exist, create it with empty array
                        comments = [];
                        await saveCommentsToServer();
                    }
                } catch (error) {
                    console.log('Error loading comments, using empty array:', error);
                    comments = [];
                }
                
                renderComments();
                updateCommentsCount();
            }

            // Save comments to global storage
            async function saveCommentsToServer() {
                try {
                    const response = await fetch(`${JSONBIN_BASE_URL}/b/${JSONBIN_BIN_ID}`, {
                        method: 'PUT',
                        headers: {
                            'Content-Type': 'application/json',
                            'X-Master-Key': JSONBIN_API_KEY
                        },
                        body: JSON.stringify(comments)
                    });

                    if (!response.ok) {
                        throw new Error('Failed to save comments');
                    }
                } catch (error) {
                    console.error('Error saving comments:', error);
                    showNotification('Error al guardar comentario. Int√©ntalo de nuevo.', 'error');
                }
            }

            function setupEventListeners() {
                // Admin toggle
                adminToggle.addEventListener('click', function() {
                    adminLogin.classList.toggle('hidden');
                });

                // Admin login
                adminLoginBtn.addEventListener('click', handleAdminLogin);
                adminPasswordInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        handleAdminLogin();
                    }
                });

                // Admin logout
                adminLogoutBtn.addEventListener('click', handleAdminLogout);

                // Comment form
                commentForm.addEventListener('submit', handleCommentSubmit);
            }

            function handleAdminLogin() {
                const password = adminPasswordInput.value.trim();
                
                if (password === ADMIN_PASSWORD) {
                    isAdminLoggedIn = true;
                    adminSection.classList.add('admin-logged-in');
                    adminLogin.classList.add('hidden');
                    adminLogoutBtn.classList.remove('hidden');
                    adminToggle.innerHTML = '‚úÖ Administrador Conectado';
                    adminToggle.style.background = '#10b981';
                    adminPasswordInput.value = '';
                    
                    // Show success message
                    showNotification('¬°Bienvenido Administrador!', 'success');
                    
                    // Re-render comments to show delete buttons
                    renderComments();
                } else {
                    showNotification('Contrase√±a incorrecta', 'error');
                    adminPasswordInput.value = '';
                }
            }

            function handleAdminLogout() {
                isAdminLoggedIn = false;
                adminSection.classList.remove('admin-logged-in');
                adminLogoutBtn.classList.add('hidden');
                adminToggle.innerHTML = 'üîê Acceso Administrador';
                adminToggle.style.background = '#1877f2';
                
                showNotification('Sesi√≥n de administrador cerrada', 'info');
                
                // Re-render comments to hide delete buttons
                renderComments();
            }

            async function handleCommentSubmit(e) {
                e.preventDefault();
                
                const name = document.getElementById('comment-name').value.trim();
                const email = document.getElementById('comment-email').value.trim();
                const text = document.getElementById('comment-text').value.trim();
                
                if (!name || !text) {
                    showNotification('Por favor completa todos los campos requeridos', 'error');
                    return;
                }

                // Show loading message
                showNotification('Publicando comentario...', 'info');

                // Create new comment
                const newComment = {
                    id: Date.now().toString(),
                    name: name,
                    email: email,
                    text: text,
                    date: new Date().toLocaleString('es-ES', {
                        year: 'numeric',
                        month: 'long',
                        day: 'numeric',
                        hour: '2-digit',
                        minute: '2-digit'
                    })
                };

                // Add to comments array
                comments.unshift(newComment); // Add to beginning
                
                // Save to global storage
                await saveCommentsToServer();
                
                // Reset form
                commentForm.reset();
                
                // Re-render comments
                renderComments();
                updateCommentsCount();
                
                // Show success message
                showNotification('¬°Comentario publicado exitosamente! Visible para todos los usuarios.', 'success');
                
                // Scroll to comments
                document.getElementById('comments-list').scrollIntoView({ behavior: 'smooth' });
            }

            function renderComments() {
                if (comments.length === 0) {
                    commentsList.innerHTML = '';
                    noComments.style.display = 'block';
                    return;
                }

                noComments.style.display = 'none';
                
                commentsList.innerHTML = comments.map(comment => `
                    <div class="comment-item" data-comment-id="${comment.id}">
                        <div class="comment-header">
                            <div>
                                <div class="comment-author">${escapeHtml(comment.name)}</div>
                                <div class="comment-date">${comment.date}</div>
                            </div>
                            ${isAdminLoggedIn ? `
                                <div class="comment-actions">
                                    <button class="delete-comment-btn" onclick="deleteComment('${comment.id}')">
                                        <i class="fas fa-trash"></i> Eliminar
                                    </button>
                                </div>
                            ` : ''}
                        </div>
                        <div class="comment-content">${escapeHtml(comment.text)}</div>
                    </div>
                `).join('');
            }

            async function deleteComment(commentId) {
                if (!isAdminLoggedIn) {
                    showNotification('Solo el administrador puede eliminar comentarios', 'error');
                    return;
                }

                if (confirm('¬øEst√°s seguro de que quieres eliminar este comentario?')) {
                    showNotification('Eliminando comentario...', 'info');
                    
                    comments = comments.filter(comment => comment.id !== commentId);
                    await saveCommentsToServer();
                    renderComments();
                    updateCommentsCount();
                    showNotification('Comentario eliminado exitosamente', 'success');
                }
            }

            function updateCommentsCount() {
                const count = comments.length;
                commentsCount.textContent = `Comentarios (${count})`;
            }

            function showNotification(message, type = 'info') {
                // Create notification element
                const notification = document.createElement('div');
                notification.className = `notification notification-${type}`;
                notification.innerHTML = `
                    <div class="notification-content">
                        <i class="fas ${getNotificationIcon(type)}"></i>
                        <span>${message}</span>
                    </div>
                `;
                
                // Add styles
                notification.style.cssText = `
                    position: fixed;
                    top: 20px;
                    right: 20px;
                    background: ${getNotificationColor(type)};
                    color: white;
                    padding: 1rem 1.5rem;
                    border-radius: 8px;
                    box-shadow: 0 10px 25px rgba(0,0,0,0.2);
                    z-index: 10000;
                    transform: translateX(100%);
                    transition: transform 0.3s ease;
                    max-width: 300px;
                `;
                
                document.body.appendChild(notification);
                
                // Animate in
                setTimeout(() => {
                    notification.style.transform = 'translateX(0)';
                }, 100);
                
                // Remove after 4 seconds
                setTimeout(() => {
                    notification.style.transform = 'translateX(100%)';
                    setTimeout(() => {
                        if (notification.parentNode) {
                            notification.parentNode.removeChild(notification);
                        }
                    }, 300);
                }, 4000);
            }

            function getNotificationIcon(type) {
                switch(type) {
                    case 'success': return 'fa-check-circle';
                    case 'error': return 'fa-exclamation-circle';
                    case 'info': return 'fa-info-circle';
                    default: return 'fa-info-circle';
                }
            }

            function getNotificationColor(type) {
                switch(type) {
                    case 'success': return '#10b981';
                    case 'error': return '#ef4444';
                    case 'info': return '#3b82f6';
                    default: return '#6b7280';
                }
            }

            function escapeHtml(text) {
                const div = document.createElement('div');
                div.textContent = text;
                return div.innerHTML;
            }

            // Make deleteComment available globally
            window.deleteComment = deleteComment;
        })();

        // Service Alerts System
        (function() {
            // Service schedule
            const serviceSchedule = {
                2: { // Tuesday
                    time: '7:00 PM',
                    service: 'Discipulado del Reino',
                    icon: 'üìñ',
                    color: '#8b5cf6'
                },
                4: { // Thursday
                    time: '7:00 PM',
                    service: 'Servicio',
                    icon: '‚õ™',
                    color: '#3b82f6'
                },
                6: { // Saturday
                    time: '7:00 PM',
                    service: 'Reuni√≥n de J√≥venes',
                    icon: 'üë•',
                    color: '#10b981'
                },
                0: { // Sunday
                    time: '8:00 AM',
                    service: 'Servicio',
                    icon: '‚úùÔ∏è',
                    color: '#f59e0b'
                }
            };

            // Generate all service dates for 2025
            let serviceDates2025 = [];

            // Initialize alerts system
            init();

            function init() {
                generateServiceDates2025();
                checkServiceDay();
                // Check every hour for service alerts
                setInterval(checkServiceDay, 3600000); // 1 hour = 3600000ms
            }

            function generateServiceDates2025() {
                serviceDates2025 = [];
                const year = 2025;
                
                // Generate all Tuesdays, Thursdays, Saturdays, and Sundays for 2025
                for (let month = 0; month < 12; month++) {
                    const daysInMonth = new Date(year, month + 1, 0).getDate();
                    
                    for (let day = 1; day <= daysInMonth; day++) {
                        const date = new Date(year, month, day);
                        const dayOfWeek = date.getDay();
                        
                        // Check if it's a service day (Tuesday=2, Thursday=4, Saturday=6, Sunday=0)
                        if (serviceSchedule[dayOfWeek]) {
                            serviceDates2025.push({
                                date: date,
                                dayOfWeek: dayOfWeek,
                                service: serviceSchedule[dayOfWeek],
                                dateString: formatDateString(date),
                                displayDate: formatDate(date)
                            });
                        }
                    }
                }
                
                console.log(`Generated ${serviceDates2025.length} service dates for 2025`);
            }

            function checkServiceDay() {
                const now = new Date();
                const todayString = formatDateString(now);
                
                // Debug info for mobile
                console.log('Checking service day:', {
                    today: todayString,
                    dayOfWeek: now.getDay(),
                    isMobile: /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),
                    serviceDatesCount: serviceDates2025.length
                });
                
                // Find if today is a service day
                const todayService = serviceDates2025.find(serviceDate => 
                    serviceDate.dateString === todayString
                );
                
                if (todayService) {
                    // Check if alert was already shown today
                    const alertKey = `serviceAlert_${todayString}`;
                    const alertShown = localStorage.getItem(alertKey);
                    
                    console.log('Service found for today:', {
                        service: todayService,
                        alertShown: alertShown,
                        alertKey: alertKey
                    });
                    
                    if (!alertShown) {
                        console.log('Showing service alert for mobile...');
                        showServiceAlert(todayService.service, todayService.displayDate, todayService.dayOfWeek);
                        localStorage.setItem(alertKey, 'true');
                        
                        // Clean old alerts (keep only last 30 days)
                        cleanOldAlerts();
                    } else {
                        console.log('Alert already shown today');
                    }
                } else {
                    console.log(`No service today (${todayString})`);
                }
            }

            function formatDateString(date) {
                // Format: YYYY-MM-DD for comparison
                return date.getFullYear() + '-' + 
                       String(date.getMonth() + 1).padStart(2, '0') + '-' + 
                       String(date.getDate()).padStart(2, '0');
            }

            function showServiceAlert(service, date, dayOfWeek) {
                const dayNames = ['Domingo', 'Lunes', 'Martes', 'Mi√©rcoles', 'Jueves', 'Viernes', 'S√°bado'];
                const dayName = dayNames[dayOfWeek];
                
                // Create alert modal
                const alertModal = document.createElement('div');
                alertModal.className = 'service-alert-modal';
                alertModal.innerHTML = `
                    <div class="service-alert-overlay"></div>
                    <div class="service-alert-content">
                        <div class="service-alert-header" style="background: ${service.color}">
                            <div class="service-alert-icon">
                                <img src="img/logo/logo.PNG" alt="Casa de Avivamiento y Reino" class="service-alert-logo">
                            </div>
                            <h3>¬°Hoy tenemos servicio!</h3>
                            <button class="service-alert-close">&times;</button>
                        </div>
                        <div class="service-alert-body">
                            <div class="service-alert-date">
                                <i class="fas fa-calendar-alt"></i>
                                <span>${dayName}, ${date}</span>
                            </div>
                            <div class="service-alert-service">
                                <h4>${service.service}</h4>
                                <div class="service-alert-time">
                                    <i class="fas fa-clock"></i>
                                    <span>${service.time}</span>
                                </div>
                            </div>
                            <div class="service-alert-location">
                                <i class="fas fa-map-marker-alt"></i>
                                <span>Casa de Avivamiento y Reino Cerete</span>
                            </div>
                            <div class="service-alert-message">
                                <p>¬°Te esperamos para compartir juntos en la presencia de Dios!</p>
                            </div>
                        </div>
                        <div class="service-alert-actions">
                            <button class="service-alert-btn service-alert-btn-primary" onclick="closeServiceAlert()">
                                <i class="fas fa-check"></i> Entendido
                            </button>
                            <button class="service-alert-btn service-alert-btn-secondary" onclick="openGoogleMaps()">
                                <i class="fas fa-directions"></i> C√≥mo llegar
                            </button>
                        </div>
                    </div>
                `;

                // Add styles
                const alertStyles = document.createElement('style');
                alertStyles.textContent = `
                    .service-alert-modal {
                        position: fixed;
                        top: 0;
                        left: 0;
                        width: 100vw;
                        height: 100vh;
                        z-index: 99999;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        animation: serviceAlertFadeIn 0.3s ease-out;
                        pointer-events: auto;
                        -webkit-overflow-scrolling: touch;
                    }

                    .service-alert-overlay {
                        position: absolute;
                        top: 0;
                        left: 0;
                        width: 100%;
                        height: 100%;
                        background: rgba(0, 0, 0, 0.7);
                        backdrop-filter: blur(5px);
                    }

                    .service-alert-content {
                        position: relative;
                        background: white;
                        border-radius: 20px;
                        max-width: 450px;
                        width: 92%;
                        max-height: 80vh;
                        overflow: hidden;
                        box-shadow: 0 30px 60px rgba(0, 0, 0, 0.4);
                        animation: serviceAlertSlideIn 0.4s ease-out;
                        border: 2px solid rgba(59, 130, 246, 0.2);
                    }

                    .service-alert-header {
                        padding: 2rem 2rem 1.5rem;
                        color: white;
                        text-align: center;
                        position: relative;
                        background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
                    }

                    .service-alert-icon {
                        font-size: 3.5rem;
                        margin-bottom: 1rem;
                        display: flex;
                        justify-content: center;
                        align-items: center;
                    }

                    .service-alert-logo {
                        width: 60px;
                        height: 60px;
                        object-fit: contain;
                        border-radius: 10px;
                        background: rgba(255, 255, 255, 0.15);
                        padding: 6px;
                        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
                    }

                    .service-alert-header h3 {
                        margin: 0;
                        font-size: 1.6rem;
                        font-weight: 700;
                        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
                    }

                    .service-alert-close {
                        position: absolute;
                        top: 1rem;
                        right: 1rem;
                        background: rgba(255, 255, 255, 0.2);
                        border: none;
                        color: white;
                        font-size: 1.5rem;
                        width: 40px;
                        height: 40px;
                        border-radius: 50%;
                        cursor: pointer;
                        transition: background 0.3s ease;
                    }

                    .service-alert-close:hover {
                        background: rgba(255, 255, 255, 0.3);
                    }

                    .service-alert-body {
                        padding: 2rem;
                    }

                    .service-alert-date {
                        display: flex;
                        align-items: center;
                        gap: 0.75rem;
                        margin-bottom: 1.5rem;
                        font-size: 1.1rem;
                        color: #374151;
                        font-weight: 600;
                        background: #f8fafc;
                        padding: 1rem;
                        border-radius: 12px;
                        border-left: 4px solid #3b82f6;
                    }

                    .service-alert-date i {
                        color: #3b82f6;
                        font-size: 1.3rem;
                    }

                    .service-alert-service h4 {
                        margin: 0 0 1rem 0;
                        font-size: 1.4rem;
                        color: #1f2937;
                        font-weight: 700;
                    }

                    .service-alert-time {
                        display: flex;
                        align-items: center;
                        gap: 0.75rem;
                        margin-bottom: 1rem;
                        color: #6b7280;
                        font-size: 1.05rem;
                        font-weight: 500;
                    }

                    .service-alert-location {
                        display: flex;
                        align-items: center;
                        gap: 0.75rem;
                        margin-bottom: 1.5rem;
                        color: #6b7280;
                        font-size: 1.05rem;
                        font-weight: 500;
                    }

                    .service-alert-location i {
                        color: #ef4444;
                    }

                    .service-alert-message {
                        background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
                        padding: 1.5rem;
                        border-radius: 15px;
                        border-left: 5px solid #3b82f6;
                        box-shadow: 0 4px 12px rgba(59, 130, 246, 0.1);
                        margin-bottom: 0.5rem;
                    }

                    .service-alert-message p {
                        margin: 0;
                        color: #1e40af;
                        font-style: italic;
                        font-size: 1.1rem;
                        line-height: 1.6;
                        font-weight: 500;
                    }

                    .service-alert-actions {
                        padding: 1.5rem 2rem 2rem;
                        display: flex;
                        gap: 1rem;
                        flex-wrap: wrap;
                    }

                    .service-alert-btn {
                        flex: 1;
                        padding: 1rem 1.5rem;
                        border: none;
                        border-radius: 12px;
                        font-weight: 600;
                        cursor: pointer;
                        transition: all 0.3s ease;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        gap: 0.5rem;
                        min-width: 140px;
                        font-size: 1rem;
                        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
                    }

                    .service-alert-btn-primary {
                        background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
                        color: white;
                        border: 2px solid transparent;
                    }

                    .service-alert-btn-primary:hover {
                        background: linear-gradient(135deg, #2563eb 0%, #1e40af 100%);
                        transform: translateY(-3px);
                        box-shadow: 0 8px 20px rgba(59, 130, 246, 0.4);
                    }

                    .service-alert-btn-secondary {
                        background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
                        color: #475569;
                        border: 2px solid #cbd5e1;
                    }

                    .service-alert-btn-secondary:hover {
                        background: linear-gradient(135deg, #e2e8f0 0%, #cbd5e1 100%);
                        border-color: #94a3b8;
                        transform: translateY(-3px);
                        box-shadow: 0 8px 20px rgba(71, 85, 105, 0.2);
                    }

                    @keyframes serviceAlertFadeIn {
                        from { opacity: 0; }
                        to { opacity: 1; }
                    }

                    @keyframes serviceAlertSlideIn {
                        from { 
                            transform: translateY(-50px) scale(0.9);
                            opacity: 0;
                        }
                        to { 
                            transform: translateY(0) scale(1);
                            opacity: 1;
                        }
                    }

                    /* Optimized for 1080x2436 screens (iPhone X/11/12/13 and similar Android) */
                    @media (max-width: 414px) and (min-height: 800px) {
                        .service-alert-content {
                            width: 95%;
                            max-width: 320px;
                            margin: 0.5rem;
                            max-height: 70vh;
                            border-radius: 12px;
                        }

                        .service-alert-header {
                            padding: 1rem 1rem 0.75rem;
                        }

                        .service-alert-header h3 {
                            font-size: 1.1rem;
                            margin: 0.3rem 0 0;
                        }

                        .service-alert-logo {
                            width: 42px;
                            height: 42px;
                            padding: 3px;
                        }

                        .service-alert-body {
                            padding: 1rem;
                        }

                        .service-alert-date {
                            font-size: 0.9rem;
                            margin-bottom: 0.75rem;
                        }

                        .service-alert-service h4 {
                            font-size: 1.1rem;
                            margin-bottom: 0.4rem;
                        }

                        .service-alert-time,
                        .service-alert-location {
                            font-size: 0.85rem;
                            margin-bottom: 0.6rem;
                        }

                        .service-alert-message {
                            padding: 0.75rem;
                            margin-bottom: 0;
                        }

                        .service-alert-message p {
                            font-size: 0.85rem;
                            line-height: 1.3;
                        }

                        .service-alert-actions {
                            padding: 0.75rem 1rem 1rem;
                            gap: 0.6rem;
                        }

                        .service-alert-btn {
                            padding: 0.7rem 1rem;
                            font-size: 0.85rem;
                            min-width: 130px;
                        }

                        .service-alert-close {
                            width: 30px;
                            height: 30px;
                            font-size: 1.1rem;
                            top: 0.75rem;
                            right: 0.75rem;
                        }
                    }

                    /* Fallback for smaller screens */
                    @media (max-width: 480px) {
                        .service-alert-content {
                            width: 98%;
                            max-width: 300px;
                            margin: 0.25rem;
                            max-height: 75vh;
                            border-radius: 12px;
                        }

                        .service-alert-header {
                            padding: 0.75rem 0.75rem 0.5rem;
                        }

                        .service-alert-header h3 {
                            font-size: 1rem;
                            margin: 0.2rem 0 0;
                        }

                        .service-alert-logo {
                            width: 35px;
                            height: 35px;
                            padding: 2px;
                        }

                        .service-alert-body {
                            padding: 0.75rem;
                        }

                        .service-alert-date {
                            font-size: 0.8rem;
                            margin-bottom: 0.5rem;
                            gap: 0.4rem;
                        }

                        .service-alert-date i {
                            font-size: 1rem;
                        }

                        .service-alert-service h4 {
                            font-size: 1rem;
                            margin-bottom: 0.3rem;
                        }

                        .service-alert-time,
                        .service-alert-location {
                            font-size: 0.8rem;
                            margin-bottom: 0.4rem;
                            gap: 0.4rem;
                        }

                        .service-alert-time i,
                        .service-alert-location i {
                            font-size: 0.9rem;
                        }

                        .service-alert-message {
                            padding: 0.5rem;
                            margin-bottom: 0;
                            border-radius: 6px;
                            border-left-width: 2px;
                        }

                        .service-alert-message p {
                            font-size: 0.8rem;
                            line-height: 1.2;
                            margin: 0;
                        }

                        .service-alert-actions {
                            padding: 0.5rem 0.75rem 0.75rem;
                            gap: 0.4rem;
                        }

                        .service-alert-btn {
                            min-width: auto;
                            padding: 0.5rem 0.6rem;
                            font-size: 0.75rem;
                            border-radius: 6px;
                            gap: 0.3rem;
                        }

                        .service-alert-btn i {
                            font-size: 0.7rem;
                        }

                        .service-alert-close {
                            width: 28px;
                            height: 28px;
                            font-size: 1rem;
                            top: 0.5rem;
                            right: 0.5rem;
                        }
                    }
                `;

                document.head.appendChild(alertStyles);
                document.body.appendChild(alertModal);

                // Add event listeners with mobile support
                const closeBtn = alertModal.querySelector('.service-alert-close');
                const overlay = alertModal.querySelector('.service-alert-overlay');
                
                // Click events
                closeBtn.addEventListener('click', closeServiceAlert);
                overlay.addEventListener('click', closeServiceAlert);
                
                // Touch events for mobile
                closeBtn.addEventListener('touchend', function(e) {
                    e.preventDefault();
                    closeServiceAlert();
                });
                
                overlay.addEventListener('touchend', function(e) {
                    e.preventDefault();
                    closeServiceAlert();
                });

                // Prevent body scroll when modal is open (mobile fix)
                document.body.style.overflow = 'hidden';
                
                // Debug log for mobile
                console.log('Service alert modal created and displayed for mobile device');

                // Auto-close after 30 seconds if not interacted with
                setTimeout(() => {
                    if (document.querySelector('.service-alert-modal')) {
                        closeServiceAlert();
                    }
                }, 30000);
            }

            function closeServiceAlert() {
                const modal = document.querySelector('.service-alert-modal');
                if (modal) {
                    modal.remove();
                    // Restore body scroll
                    document.body.style.overflow = '';
                    console.log('Service alert closed on mobile');
                }
            }

            function openGoogleMaps() {
                // Open Google Maps
                window.open('https://maps.app.goo.gl/Sqohyuc9YkAKCstG6', '_blank');
                closeServiceAlert();
            }

            // Test function for mobile debugging - call this from browser console
            function testServiceAlert() {
                console.log('Testing service alert on mobile...');
                const testService = {
                    time: '7:00 PM',
                    service: 'Servicio de Prueba',
                    icon: 'üîî',
                    color: '#3b82f6'
                };
                const today = new Date();
                const todayString = today.toLocaleDateString('es-ES', {
                    weekday: 'long',
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric'
                });
                showServiceAlert(testService, todayString, today.getDay());
            }

            function formatDate(date) {
                const months = [
                    'enero', 'febrero', 'marzo', 'abril', 'mayo', 'junio',
                    'julio', 'agosto', 'septiembre', 'octubre', 'noviembre', 'diciembre'
                ];
                
                const day = date.getDate();
                const month = months[date.getMonth()];
                const year = date.getFullYear();
                
                return `${day} de ${month} de ${year}`;
            }

            function cleanOldAlerts() {
                const keys = Object.keys(localStorage);
                const alertKeys = keys.filter(key => key.startsWith('serviceAlert_'));
                const thirtyDaysAgo = new Date();
                thirtyDaysAgo.setDate(thirtyDaysAgo.getDate() - 30);
                
                alertKeys.forEach(key => {
                    const datePart = key.split('_')[1]; // Format: YYYY-MM-DD
                    if (datePart && datePart.includes('-')) {
                        const alertDate = new Date(datePart);
                        
                        if (alertDate < thirtyDaysAgo) {
                            localStorage.removeItem(key);
                        }
                    }
                });
            }

            // Function to get next service dates (useful for debugging or future features)
            function getNextServiceDates(count = 5) {
                const now = new Date();
                const todayString = formatDateString(now);
                
                return serviceDates2025
                    .filter(serviceDate => serviceDate.dateString >= todayString)
                    .slice(0, count)
                    .map(serviceDate => ({
                        date: serviceDate.displayDate,
                        day: ['Domingo', 'Lunes', 'Martes', 'Mi√©rcoles', 'Jueves', 'Viernes', 'S√°bado'][serviceDate.dayOfWeek],
                        service: serviceDate.service.service,
                        time: serviceDate.service.time
                    }));
            }

            // Make functions available globally
            window.closeServiceAlert = closeServiceAlert;
            window.openGoogleMaps = openGoogleMaps;
            window.getNextServiceDates = getNextServiceDates;
            window.testServiceAlert = testServiceAlert;

            // Generate events cards when page loads
            document.addEventListener('DOMContentLoaded', function() {
                setTimeout(generateEventsCards, 1000); // Small delay to ensure everything is loaded
            });

            function generateEventsCards() {
                const eventsGrid = document.getElementById('events-grid');
                if (!eventsGrid) return;

                // Get next 6 service dates
                const nextServices = getNextServiceDates(6);
                
                if (nextServices.length === 0) {
                    eventsGrid.innerHTML = `
                        <div class="no-events">
                            <i class="fas fa-calendar-times"></i>
                            <p>No hay servicios programados pr√≥ximamente</p>
                        </div>
                    `;
                    return;
                }

                // Generate event cards
                const eventsHTML = nextServices.map((service, index) => {
                    const serviceDate = new Date(serviceDates2025.find(s => s.displayDate === service.date).date);
                    const day = serviceDate.getDate();
                    const monthNames = ['ENE', 'FEB', 'MAR', 'ABR', 'MAY', 'JUN', 
                                       'JUL', 'AGO', 'SEP', 'OCT', 'NOV', 'DIC'];
                    const month = monthNames[serviceDate.getMonth()];
                    
                    const serviceColors = {
                        'Discipulado del Reino': '#8b5cf6',
                        'Servicio': serviceDate.getDay() === 0 ? '#f59e0b' : '#3b82f6',
                        'Reuni√≥n de J√≥venes': '#10b981'
                    };

                    return `
                        <div class="event-card" style="animation-delay: ${index * 0.1}s">
                            <div class="event-date" style="background: ${serviceColors[service.service]}">
                                <span class="day">${day}</span>
                                <span class="month">${month}</span>
                            </div>
                            <div class="event-content">
                                <div class="event-header">
                                    <img src="img/logo/logo.PNG" alt="Casa de Avivamiento y Reino" class="event-logo">
                                    <h3>${service.service}</h3>
                                </div>
                                <div class="event-details">
                                    <div class="event-day">
                                        <i class="fas fa-calendar-day"></i>
                                        <span>${service.day}, ${service.date}</span>
                                    </div>
                                    <div class="event-time">
                                        <i class="fas fa-clock"></i>
                                        <span>${service.time}</span>
                                    </div>
                                    <div class="event-location">
                                        <i class="fas fa-map-marker-alt"></i>
                                        <span>Casa de Avivamiento y Reino</span>
                                    </div>
                                </div>
                                ${index === 0 ? `
                                    <div class="next-service-badge">
                                        <i class="fas fa-star"></i>
                                        <span>Pr√≥ximo Servicio</span>
                                    </div>
                                ` : ''}
                            </div>
                        </div>
                    `;
                }).join('');

                eventsGrid.innerHTML = eventsHTML;
            }
        })();
    </script>
</body>
</html>
